function config($stateProvider,$urlRouterProvider){$urlRouterProvider.otherwise("/index/dashboard"),$stateProvider.state("index",{"abstract":!0,url:"/index",templateUrl:"views/common/content.html"}).state("index.main",{url:"/main",templateUrl:"views/main.html",data:{pageTitle:"Example view"}}).state("index.minor",{url:"/minor",templateUrl:"views/minor.html",data:{pageTitle:"Example view"}}).state("index.dashboard",{url:"/dashboard",templateUrl:"views/dashboard.html",data:{pageTitle:"Dashboard"}}).state("index.objective",{url:"/objectives/:objectiveId",templateUrl:"views/objective_dashboard.html",data:{pageTitle:"Objective"}}).state("index.new_objective",{url:"/objective/new",templateUrl:"views/new_objective.html",data:{pageTitle:"Create Objective"}})}function pageTitle($rootScope,$timeout){return{link:function(scope,element){var listener=function(event,toState,toParams,fromState,fromParams){var title="Trackto | Track your goals";toState.data&&toState.data.pageTitle&&(title="Trackto | "+toState.data.pageTitle),$timeout(function(){element.text(title)})};$rootScope.$on("$stateChangeStart",listener)}}}function sideNavigation($timeout){return{restrict:"A",link:function(scope,element){$timeout(function(){element.metisMenu()})}}}function iboxTools($timeout){return{restrict:"A",scope:!0,templateUrl:"views/common/ibox_tools.html",controller:function($scope,$element){$scope.showhide=function(){var ibox=$element.closest("div.ibox"),icon=$element.find("i:first"),content=ibox.find("div.ibox-content");content.slideToggle(200),icon.toggleClass("fa-chevron-up").toggleClass("fa-chevron-down"),ibox.toggleClass("").toggleClass("border-bottom"),$timeout(function(){ibox.resize(),ibox.find("[id^=map-]").resize()},50)},$scope.closebox=function(){var ibox=$element.closest("div.ibox");ibox.remove()}}}}function minimalizaSidebar($timeout){return{restrict:"A",template:'<a class="navbar-minimalize minimalize-styl-2 btn btn-primary " href="" ng-click="minimalize()"><i class="fa fa-bars"></i></a>',controller:function($scope,$element){$scope.minimalize=function(){$("body").toggleClass("mini-navbar"),!$("body").hasClass("mini-navbar")||$("body").hasClass("body-small")?($("#side-menu").hide(),setTimeout(function(){$("#side-menu").fadeIn(500)},100)):$("body").hasClass("fixed-sidebar")?($("#side-menu").hide(),setTimeout(function(){$("#side-menu").fadeIn(500)},300)):$("#side-menu").removeAttr("style")}}}}function MainCtrl(){this.userName="Example user",this.helloText="Welcome in SeedProject",this.descriptionText="It is an application skeleton for a typical AngularJS web app. You can use it to quickly bootstrap your angular webapp projects and dev environment for these projects.",this.logo="img/tracktosmaller.png"}function ObjectivesNavigationCtrl($scope){this.objectives=[{id:"1",name:"Workout more",mainMenu:!0},{id:"2",name:"Eat healthy",mainMenu:!0},{id:"3",name:"Learn something",mainMenu:!1},{id:"4",name:"Take lead",mainMenu:!1},{id:"5",name:"Another thing",mainMenu:!1}],$scope.filterByMainMenu=function(objective){return objective.mainMenu?objective:!1},$scope.filterBySecondaryMenu=function(objective){return objective.mainMenu===!1?objective:!1}}function ObjectiveDetailCtrl($scope,$stateParams){$scope.selected_id=$stateParams.objectiveId,$scope.objectives=[{id:"1",name:"Workout more",progress:80,progress_pct:60,pace:1.5,achievability:"High",achievability_pct:50},{id:"2",name:"Eat healthy",progress:70,progress_pct:50,pace:1.5,achievability:"Low",achievability_pct:50},{id:"3",name:"Learn something",progress:60,progress_pct:40,pace:1.2,achievability:"Medium",achievability_pct:50},{id:"4",name:"Take lead",progress:50,progress_pct:30,pace:1,achievability:"Medium",achievability_pct:50},{id:"5",name:"Another thing",progress:40,progress_pct:20,pace:.8,achievability:"Low",achievability_pct:50}],$scope.isObjective=function(objective){return objective.id==$scope.selected_id}}function ObjectivesTodayCtrl($scope,ObjectiveFactory){function getObjectives(){ObjectiveFactory.getObjectives().success(function(objs){$scope.objectives=objs.objectives}).error(function(error){$scope.status="Unable to load objectives data: "+error.message})}$scope.objectives=[],getObjectives()}function ObjectiveFactory($http){var urlBase="/api/objectives",objectiveFactory={};return objectiveFactory.getObjectives=function(){return $http.get(urlBase)},objectiveFactory}$(document).ready(function(){function fix_height(){var heightWithoutNavbar=$("body > #wrapper").height()-61;$(".sidebard-panel").css("min-height",heightWithoutNavbar+"px");var navbarHeigh=$("nav.navbar-default").height(),wrapperHeigh=$("#page-wrapper").height();navbarHeigh>wrapperHeigh&&$("#page-wrapper").css("min-height",navbarHeigh+"px"),wrapperHeigh>navbarHeigh&&$("#page-wrapper").css("min-height",$(window).height()+"px")}$(window).bind("load resize scroll",function(){$("body").hasClass("body-small")||fix_height()}),setTimeout(function(){fix_height()})}),$(function(){$(window).bind("load resize",function(){$(this).width()<769?$("body").addClass("body-small"):$("body").removeClass("body-small")})}),function(){angular.module("trackto",["ui.router","ui.bootstrap"])}(),angular.module("trackto").config(config).run(function($rootScope,$state){$rootScope.$state=$state}),angular.module("trackto").directive("pageTitle",pageTitle).directive("sideNavigation",sideNavigation).directive("iboxTools",iboxTools).directive("minimalizaSidebar",minimalizaSidebar),angular.module("trackto").controller("MainCtrl",MainCtrl).controller("ObjectivesTodayCtrl",["$scope","ObjectiveFactory",ObjectivesTodayCtrl]).controller("ObjectivesNavigationCtrl",ObjectivesNavigationCtrl).controller("ObjectiveDetailCtrl",ObjectiveDetailCtrl),angular.module("trackto").factory("ObjectiveFactory",["$http",ObjectiveFactory]);